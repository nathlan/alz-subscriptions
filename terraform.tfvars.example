# ==============================================================================
# Example Terraform Variables File
# ==============================================================================
# Copy this file to landing-zones/your-workload-name.tfvars and customize
# ==============================================================================

# REQUIRED: State file name (should match your workload name)
tfvars_file_name = "your-workload-name"

# REQUIRED: Subscription Configuration
subscription_alias_enabled    = true
subscription_billing_scope    = "PLACEHOLDER_BILLING_SCOPE" # Get from Azure EA
subscription_display_name     = "your-workload-name (Production)"
subscription_alias_name       = "sub-your-workload-prod"
subscription_workload         = "Production" # or "DevTest"
subscription_management_group_id = "Corp"
subscription_management_group_association_enabled = true

subscription_tags = {
  Environment = "Production"
  Workload    = "your-workload-name"
  CostCenter  = "YOUR-COST-CENTER"
  ManagedBy   = "Terraform"
  Owner       = "TEAM-NAME"
  CreatedDate = "YYYY-MM-DD"
}

# Resource Groups
resource_group_creation_enabled = true
resource_groups = {
  rg_workload = {
    name     = "rg-your-workload-prod"
    location = "uksouth"
  }
  rg_identity = {
    name     = "rg-your-workload-identity"
    location = "uksouth"
  }
}

# Virtual Network with Hub Peering
virtual_network_enabled = true
virtual_networks = {
  spoke = {
    name                    = "vnet-your-workload-prod-uksouth"
    resource_group_key      = "rg_workload"
    address_space           = ["10.X.Y.0/24"] # Get unique CIDR from platform team
    location                = "uksouth"
    hub_peering_enabled     = true
    hub_network_resource_id = "PLACEHOLDER_HUB_VNET_ID" # Get from platform team

    subnets = {
      default = {
        name             = "snet-default"
        address_prefixes = ["10.X.Y.0/26"]
      }
    }
  }
}

# OPTIONAL: User-Managed Identity with GitHub OIDC
# Uncomment and configure if you need workload identity federation
# umi_enabled = true
# user_managed_identities = {
#   deploy = {
#     name               = "umi-your-workload-deploy"
#     location           = "uksouth"
#     resource_group_key = "rg_identity"
#
#     role_assignments = {
#       subscription_contributor = {
#         scope_resource_id       = "subscription"
#         role_definition_id_or_name = "Contributor"
#       }
#     }
#
#     federated_credentials_github = {
#       main = {
#         name         = "github-main"
#         organization = "nathlan"
#         repository   = "your-repo-name"
#         entity       = "ref:refs/heads/main"
#       }
#     }
#   }
# }

# OPTIONAL: Monthly Budget with Notifications
# Uncomment and configure to enable cost monitoring
# budget_enabled = true
# budgets = {
#   monthly = {
#     name              = "Monthly Budget"
#     amount            = 500
#     time_grain        = "Monthly"
#     time_period_start = "YYYY-MM-01T00:00:00Z"
#     time_period_end   = "YYYY-12-31T23:59:59Z"
#
#     notifications = {
#       threshold_80 = {
#         enabled        = true
#         operator       = "GreaterThan"
#         threshold      = 80
#         contact_emails = ["your-email@example.com"]
#         threshold_type = "Actual"
#       }
#     }
#   }
# }
